/* =========================================
   RPG Map System - Core Styles
   ========================================= */

/* 1. 定義全局變量 (紅點的核心靈魂) */
/* 預設位置在中心 (50%, 50%) */
body {
    --rpg-x: 50%;
    --rpg-y: 50%;
}

/* 2. 訊息卡片容器 (取代原本的對話框樣式) */
.rpg-message-card {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100%;
    margin-top: 8px;
    
    /* 外觀裝飾 */
    border: 2px solid #5a4a42; /* 深褐色邊框 */
    border-radius: 8px;
    background-color: #222;    /* 預設深色底 */
    overflow: hidden;          /* 圓角裁切 */
    box-shadow: 0 4px 8px rgba(0,0,0,0.5); /* 陰影 */
    font-family: "微軟正黑體", "Microsoft JhengHei", sans-serif;
}

/* 3. 上半部：地圖層 */
.rpg-map-header {
    position: relative;
    width: 100%;
    height: 220px; /* 您可以根據需求調整高度 */
    background-color: #000;
    
    /* 關鍵：圖片路徑 */
    /* 使用相對路徑 '../images/' 指向倉庫裡的圖片資料夾 */
    background-image: url('https://cdn.jsdelivr.net/gh/Asaa0120/st-card-v1@main/images/map.jpg'); 
    background-size: 100% 100%; /* 強制填滿，確保座標不跑版 */
    background-repeat: no-repeat;
    
    border-bottom: 2px solid #8a6a52; /* 分隔線 */
}

/* 4. 地圖上的紅點 (玩家) */
.rpg-player-marker {
    position: absolute;
    width: 14px;
    height: 14px;
    
    /* 紅點樣式 */
    background-color: #ff3333;
    border: 2px solid #ffffff;
    border-radius: 50%; /* 圓形 */
    box-shadow: 0 0 4px #000;
    z-index: 10;
    
    /* ★ 核心魔法：引用 body 的變量 ★ */
    /* 所有歷史訊息的紅點都會同時聽令於這個變量 */
    left: var(--rpg-x);
    top:  var(--rpg-y);
    transform: translate(-50%, -50%); /* 居中校正 */
    
    /* 平滑移動動畫 (0.6秒) */
    transition: left 0.6s cubic-bezier(0.25, 1, 0.5, 1), 
                top 0.6s cubic-bezier(0.25, 1, 0.5, 1);
}

/* 5. 下半部：文字層 (正文) */
.rpg-text-body {
    padding: 15px 20px;
    color: #e0e0e0;      /* 淺灰文字 */
    font-size: 1.05em;   /* 稍微大一點的字 */
    line-height: 1.6;    /* 行距 */
    background: linear-gradient(180deg, #2b2b2b 0%, #222 100%); /* 微漸層背景 */
}